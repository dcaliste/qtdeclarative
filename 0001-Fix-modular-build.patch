commit 21f774da6bfc71fc689612df871f63e24b688698
Author: Mika Bostr√∂m <mika.bostrom@nomovok.com>
Date:   Thu Mar 22 15:43:16 2012 +0200

    Fix modular build
    
    Remove the abuses of DESTDIR macro. System paths are not writable, all
    modules must go through install stage.

diff --git a/src/imports/folderlistmodel/folderlistmodel.pro b/src/imports/folderlistmodel/folderlistmodel.pro
index f30c2b2..94d15e4 100644
--- a/src/imports/folderlistmodel/folderlistmodel.pro
+++ b/src/imports/folderlistmodel/folderlistmodel.pro
@@ -10,7 +10,6 @@ HEADERS += qquickfolderlistmodel.h \
     fileproperty_p.h \
     fileinfothread_p.h
 
-DESTDIR = $$QT.qml.imports/$$TARGETPATH
 target.path = $$[QT_INSTALL_IMPORTS]/$$TARGETPATH
 
 qmldir.files += $$PWD/qmldir
diff --git a/src/imports/localstorage/localstorage.pro b/src/imports/localstorage/localstorage.pro
index fa1718d..a18a6d1 100644
--- a/src/imports/localstorage/localstorage.pro
+++ b/src/imports/localstorage/localstorage.pro
@@ -8,7 +8,6 @@ SOURCES += plugin.cpp
 
 OTHER_FILES += localstorage.json
 
-DESTDIR = $$QT.qml.imports/$$TARGETPATH
 target.path = $$[QT_INSTALL_IMPORTS]/$$TARGETPATH
 
 qmldir.files += $$PWD/qmldir
diff --git a/src/imports/qtquick2/qtquick2.pro b/src/imports/qtquick2/qtquick2.pro
index 3a95c5f..e4a62e6 100644
--- a/src/imports/qtquick2/qtquick2.pro
+++ b/src/imports/qtquick2/qtquick2.pro
@@ -10,7 +10,6 @@ QT += quick-private qml-private
 OTHER_FILES += \
     qmldir
 
-DESTDIR = $$QT.qml.imports/$$TARGETPATH
 target.path = $$[QT_INSTALL_IMPORTS]/$$TARGETPATH
 
 qmldir.files += $$PWD/qmldir
diff --git a/src/imports/testlib/testlib.pro b/src/imports/testlib/testlib.pro
index dfb23ce..564b0ab 100644
--- a/src/imports/testlib/testlib.pro
+++ b/src/imports/testlib/testlib.pro
@@ -10,8 +10,6 @@ SOURCES += main.cpp
 
 OTHER_FILES += testlib.json
 
-DESTDIR = $$QT.qml.imports/$$TARGETPATH
-
 target.path += $$[QT_INSTALL_IMPORTS]/QtTest
 OTHER_IMPORT_FILES = \
     qmldir \
diff --git a/src/plugins/accessible/quick/quick.pro b/src/plugins/accessible/quick/quick.pro
index 213d2e8..e931d5f 100644
--- a/src/plugins/accessible/quick/quick.pro
+++ b/src/plugins/accessible/quick/quick.pro
@@ -5,7 +5,6 @@ load(qt_plugin)
 include ($$PWD/../shared/qaccessiblebase.pri)
 
 QT += core-private gui-private v8-private qml-private quick-private
-DESTDIR = $$QT.gui.plugins/accessible
 
 QTDIR_build:REQUIRES += "contains(QT_CONFIG, accessibility)"
 
diff --git a/src/plugins/qmltooling/qmldbg_qtquick2/qmldbg_qtquick2.pro b/src/plugins/qmltooling/qmldbg_qtquick2/qmldbg_qtquick2.pro
index 2d4de57..ba0e2b5 100644
--- a/src/plugins/qmltooling/qmldbg_qtquick2/qmldbg_qtquick2.pro
+++ b/src/plugins/qmltooling/qmldbg_qtquick2/qmldbg_qtquick2.pro
@@ -5,8 +5,6 @@ QT       += qml-private quick-private core-private gui-private v8-private
 
 load(qt_plugin)
 
-DESTDIR  = $$QT.qml.plugins/qmltooling
-
 INCLUDEPATH *= $$PWD $$PWD/../shared
 
 SOURCES += \
diff --git a/src/plugins/qmltooling/qmldbg_tcp/qmldbg_tcp.pro b/src/plugins/qmltooling/qmldbg_tcp/qmldbg_tcp.pro
index fdd1f6e..b525c5a 100644
--- a/src/plugins/qmltooling/qmldbg_tcp/qmldbg_tcp.pro
+++ b/src/plugins/qmltooling/qmldbg_tcp/qmldbg_tcp.pro
@@ -5,7 +5,6 @@ QT       += qml-private network
 
 load(qt_plugin)
 
-DESTDIR = $$QT.qml.plugins/qmltooling
 QTDIR_build:REQUIRES += "contains(QT_CONFIG, qml)"
 
 SOURCES += \
